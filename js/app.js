!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(){"use strict";var b=a("immutabilis"),c=a("coquo-venenum"),d=a("pro-singulis"),e=a("./Utils");return c({addSystem:function(a){a.entities=this.repo,this.systems.push(a)},setEntityDefaults:function(a,c){this.defaults[a]=b.fromJS(c)},initEntities:function(a,b){d(a,function(a){return e.isFunction(a)?void this.entitiesFromState.push({fn:a}):void this.createEntity(a)},this),d(this.entitiesFromState,this.updateDynamicEntities,this,[b]),this.lastState=b},update:function(a){var b=[a];a!==this.lastState&&d(this.entitiesFromState,this.updateDynamicEntities,this,b),d(this.systems,this.updateSystem,this,b),this.lastState=a},updateSystem:function(a,b,c){a.update(c)},updateDynamicEntities:function(a,b,c){var e=a.current||[],f=this.createEntityMap(a.fn(c)),g=this.findItemsNotInList(e,f),h=this.findItemsNotInList(f,e);d(Object.keys(g),this.removeEntity,this),d(h,this.createEntity,this),a.current=f},createEntityMap:function(a){var b={};return d(a,function(a){b[a.id]=a}),b},findItemsNotInList:function(a,b){return d(a,function(a,c){return b[c]?void 0:a})},createEntity:function(a){var b=this.defaults[a.type];return b&&(a=b.set(a).val()),a.children&&(a.children=d(a.children,this.createEntity,this)),this.repo.createEntity(a)},removeEntity:function(a){return this.repo.removeEntity(a)}}).whenBrewed(function(){this.repo=null,this.systems=[],this.entitiesFromState=[],this.lastState=null,this.defaults={}}).whenDisposed(function(){d(this.systems,function(a,b){this.systems[b].entities=null,this.systems[b].dispose(),this.systems[b]=null},this)})}()},{"./Utils":10,"coquo-venenum":14,immutabilis:18,"pro-singulis":22}],2:[function(a,b,c){b.exports=function(){"use strict";function b(a){return a?a.val():void 0}var c=a("immutabilis"),d=a("coquo-venenum"),e=a("pro-singulis"),f=a("./Utils");return d({createEntity:function(a){var b=a.id||f.id();if(this.contains(b))throw'The id: "'+b+'" is already used';return this.entities[b]={id:b,components:[]},e(a,function(a,c){"id"!==c&&"type"!==c&&this.setComponent(b,c,a)},this),b},contains:function(a){return f.isObject(this.entities[a])},removeAllEntities:function(){e(Object.keys(this.entities),this.removeEntity,this)},removeEntity:function(a){if(this.contains(a)){for(var b=this.entities[a],c=b.components;c.length>0;)this.removeComponent(b,c[0]);this.entities[a]=null}},removeComponent:function(a,b){var c=f.isObject(a)?a:this.entities[a];if(!f.isObject(c))throw'Unknown entity: "'+a+'"';var d=c.components.indexOf(b);d>=0&&c.components.splice(d,1);var e=this.components[b];e&&(e[c.id]=null)},getAllComponentsOfType:function(a){return e(this.components[a],b)},getAllComponentsOfEntity:function(a){var b={},c=this.entities[a],d=c&&c.components;return e(d,function(c){b[c]=this.getComponentData(a,c)},this),b},getComponent:function(a,b){var c=this.components[b];return c&&c[a]},getComponentData:function(a,b){var c=this.getComponent(a,b);return c&&c.val()},setComponent:function(a,b,d){var e=this.entities[a];if(!e)throw'Unknown entity: "'+a+'"';var f=this.components[b];f||(f={},this.components[b]=f);var g=f[a];return g?g=g.set(d):(g=c.fromJS(d),e.components.push(b)),f[a]=g,g.val()}}).whenBrewed(function(){this.components={},this.entities={}}).whenDisposed(function(){this.removeAllEntities()})}()},{"./Utils":10,"coquo-venenum":14,immutabilis:18,"pro-singulis":22}],3:[function(a,b,c){b.exports=function(){"use strict";var b=a("immutabilis"),c=a("coquo-venenum"),d=a("pro-singulis"),e=a("./Utils"),f=a("./Observari");return c({runs:!1,messages:void 0,state:void 0,onLaunch:e.emptyFn,onShutdown:e.emptyFn,update:e.emptyFn,draw:e.emptyFn,launch:function(){this.runs||(this.runs=!0,this.frame=0,this.lastTick=e.now(),this.onLaunch(),this.messages.trigger("app:start"),this.boundLoopFn=this.createLoopFunction(this),this.boundLoopFn())},shutdown:function(){if(this.runs){if(this.loopId){var a=this.cancelAnimationFrame;a(this.loopId),this.boundLoopFn=null,this.loopId=null}this.onShutdown(),this.messages.trigger("app:stop"),this.runs=!1}},isRunning:function(){return this.runs},wireUp:function(a){if(!a)throw"Invalid input: Empty value";if(!a.messages)throw"Invalid input: Message map missing";d(a.messages,function(b,c){this.messages.on(c,function(c){var d=a[b];this.state=d.call(a,this.state,c)},this)},this)},requestAnimationFrame:window.requestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame,createLoopFunction:function(a){function b(){this.frame=0,this.now=0,this.delay=0,this.fps=0,this.state=null}var c=e.now(),d=0,f=new b,g=60,h=1e3/g,i=this.requestAnimationFrame;return function(b){b=b||e.now(),h=.95*h+.05*(b-c),g=1e3/h,c=b,d++,f.frame=d,f.now=b,f.delay=Math.round(h),f.fps=Math.round(g),f.state=a.state;var j=a.update(f);j&&j!==a.state&&(a.state=j,f.state=a.state),a.draw(f),a.loopId=i(a.boundLoopFn)}}}).whenBrewed(function(){this.messages=f.brew(),this.state=b.fromJS()}).whenDisposed(function(){this.shutdown()})}()},{"./Observari":7,"./Utils":10,"coquo-venenum":14,immutabilis:18,"pro-singulis":22}],4:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum"),c=a("pro-singulis"),d=a("./Utils");return b({entities:void 0,stylus:void 0,lastStates:void 0,update:function(){var a=this.entities.getAllComponentsOfType("css");c(a,this.updateDynamicCss,this)},updateDynamicCss:function(a,b){this.processTypeRules(a,b),this.processEntityRules(a,b)},processTypeRules:function(a,b){a.typeRules&&(this.setRules(a.typeRules),this.entities.setComponent(b,"css",{typeRules:null}))},processEntityRules:function(a,b){if(!d.isObject(a.entityRules))return void this.entities.removeComponent(b,"css");var c={};if(d.isFunction(a.entityRules)){var e=this.lastStates[b],f=this.entities.getComponent(b,"state");if(f===e)return;return c["#"+b]=a.entityRules.call(null,f),this.lastStates[b]=f,void this.setRules(c)}c["#"+b]=a.entityRules,this.setRules(c),this.entities.removeComponent(b,"css")},setRules:function(a){this.stylus.setRules(a)}}).whenBrewed(function(){this.lastStates={}})}()},{"./Utils":10,"coquo-venenum":14,"pro-singulis":22}],5:[function(a,b,c){b.exports=function(){"use strict";function b(a){return"__e__"+a}var c=a("coquo-venenum"),d=a("pro-singulis"),e=function(a,b,c,d){this.key=a,this.event=b,this.handler=c,this.scope=d};return e.prototype.bind=function(a){a[b(this.event)]=this.key},c({root:void 0,events:void 0,createDelegate:function(a,b,c){var d=this.events[a];if(!d){var f=this;d=[],this.events[a]=d,this.root["on"+a]=function(b){f.handleEvent(a,b)}}for(var g=0,h=d.length;h>g;g++){var i=d[g];if(i.handler===b&&i.scope===c)return i}var j=new e(d.length,a,b,c);return d.push(j),j},handleEvent:function(a,c){for(var d=c&&c.target;d;)this.dispatchEvent(d[b(a)],a,c),d=d.parentNode},dispatchEvent:function(a,b,c){if("undefined"!=typeof a){var d=this.events[b],e=d&&d[a];e.handler.call(e.scope,c)}}}).whenBrewed(function(){this.root=this.root||document.body,this.events={}}).whenDisposed(function(){d(this.events,function(a,b){for(;a.length>0;)a.pop();this.root["on"+b]=null},this)})}()},{"coquo-venenum":14,"pro-singulis":22}],6:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum"),c=a("pro-singulis"),d=a("./Utils");return b({messages:void 0,delegator:void 0,entities:void 0,addHandler:function(a,b){this.handler=this.handler||{},this.handler[a]=b},update:function(){var a=this.entities.getAllComponentsOfType("events");c(a,this.delegateEvents,this)},delegateEvents:function(a,b){c(a,this.delegateEvent,this,[b]),this.entities.removeComponent(b,"events")},delegateEvent:function(a,b,c){(d.isString(a)||d.isFunction(a))&&(a={handler:a});var e=this.getEventHandler(c,a),f=b.split(/\s/),g=f.shift(),h=a.selector||f.join(" "),i=this.delegator.createDelegate(g,e),j=this.entities.getComponentData(c,"delegatedEvents")||[];this.entities.setComponent(c,"delegatedEvents",j.concat({event:g,delegate:i,selector:h}))},getEventHandler:function(a,b){var c=b.handler,e=this.entities,f=this.messages,g=function(a,b){f.trigger(a,b)};return d.isString(c)&&(c=this.handler&&this.handler[b.handler]),function(f){var h,i;d.isFunction(c)&&(h=e.getComponent(a,"state"),i=c(f,h,g),"undefined"!=typeof i&&e.setComponent(a,"state",i)),b.message&&(h=e.getComponentData(a,"state"),g(b.message,h))}}})}()},{"./Utils":10,"coquo-venenum":14,"pro-singulis":22}],7:[function(a,b,c){b.exports=function(){"use strict";function b(a,b){return a.eventObj=a.eventObj||{},a.eventObj[b]||(a.eventObj[b]={name:b,source:a}),a.eventObj[b]}function c(a,b,c,d){for(var e,f=a.events&&a.events[b]||[],g=[],h=f.pop();h;)e=!(c&&c!==h.fn||d&&d!==h.scope),e?(h.fn=null,h.scope=null):g.push(h),h=f.pop();g.length>0?a.events[b]=g:delete a.events[b]}var d=a("coquo-venenum"),e=a("pro-singulis"),f=a("./Utils"),g={events:void 0,trigger:function(){var a=function(a,b,c,d){a.fn.call(a.scope,c,d)};return function(c,d){var g=this.events&&f.mix([],this.events[c]),h=b(this,c),i=[d,h];e(g,a,this,i),g=this.events&&this.events["*"],e(g,a,this,i)}}(),on:function(a,b,c){this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push({fn:b,scope:c})},once:function(a,b,c){var d=function(e,f){this.off(a,d,this),b.call(c,e,f)};this.on(a,d,this)},off:function(a,b,d){a?c(this,a,b,d):e(this.events,function(a,e){c(this,e,b,d)},this)}};return d(g).whenDisposed(function(){this.off(),e(this.eventObj,function(a){a.name=null,a.source=null}),this.eventObj=null})}()},{"./Utils":10,"coquo-venenum":14,"pro-singulis":22}],8:[function(a,b,c){b.exports=function(){"use strict";var b=a("immutabilis"),c=a("coquo-venenum"),d=a("pro-singulis"),e=a("./Utils");return c({entities:void 0,lastStates:void 0,update:function(a){if(a!==this.lastState){var b=this.entities.getAllComponentsOfType("globalToLocal");d(b,this.updateEntity,this,[a]),this.lastState=a}},updateEntity:function(a,c,f){var g=this.entities.getComponentData(c,"state")||{};e.isFunction(a)?g=a(f,g):d(a,function(a,c){g[a]=b.find(f,c)}),this.entities.setComponent(c,"state",g)}})}()},{"./Utils":10,"coquo-venenum":14,immutabilis:18,"pro-singulis":22}],9:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum"),c=a("pro-singulis");return b({rules:void 0,sheet:void 0,setRules:function(a){c(this.prepare(a,{},""),this.setRule,this)},prepare:function(a,b,d){return c(a,function(a,c){return a&&"object"==typeof a?void this.prepare(a,b,this.combineSelector(d,c)):(b[d]=b[d]||{},void(b[d][c]=a))},this),b},combineSelector:function(a,b){var c=(a+" "+b).replace(/\s*&/g,"");return c},setRule:function(a,b){var c=this.createRuleStr(b,a),d=this.getStyleSheet(),e=this.rules[b];e?d.deleteRule(e.index):(e={index:d.cssRules.length},this.rules[b]=e),d.insertRule(c,e.index)},createRuleStr:function(a,b){var d="";return c(b,function(a,b){d+=b+":"+a+";"}),a+"{"+d+"}"},getStyleSheet:function(){if(!this.sheet){var a=document.createElement("style");document.head.appendChild(a),this.sheet=a.sheet}return this.sheet}}).whenBrewed(function(){this.rules={}}).whenDisposed(function(){for(;this.sheet&&this.sheet.cssRules.length>0;)this.sheet.deleteRule(0)})}()},{"coquo-venenum":14,"pro-singulis":22}],10:[function(a,b,c){!function(){"use strict";function c(a){return f.isString(a)?a.charAt(0).toUpperCase()+a.substr(1,a.length):""}var d="undefined"!=typeof window,e=a("pro-singulis"),f={};"undefined"!=typeof b&&(b.exports=f),f.metaPrefix="_AJS_",f.isObject=function(a){return a&&("object"==typeof a||"function"==typeof a)},f.isArray=function(a){return a instanceof Array},f.isFunction=function(a){return"function"==typeof a},f.isNumber=function(a){return"number"==typeof a&&!isNaN(a)},f.isString=function(a){return"string"==typeof a},f.isBoolean=function(a){return"boolean"==typeof a},f.isDefined=function(a){return f.isNumber(a)||f.isString(a)||f.isObject(a)||f.isArray(a)||f.isFunction(a)||f.isBoolean(a)},f.each=e,f.mix=function(){function a(a,b,c){c[b]=a}return function(){for(var b,c=Array.apply(null,arguments),d=c.shift();c.length;)b=c.shift(),e(b,a,null,[d]);return d}}(),f.melt=function(){var a=e.prepare(function(a,b,c){a&&a.constructor===Object?c[b]=f.melt(c[b],a):c[b]=a},null);return function(b,c){var d={};return a(b,[d]),a(c,[d]),d}}(),f.override=function(){function a(a){return a&&a.hocuspocus===!0}function b(a){return f.isObject(a)&&f.meta(a,"isProperty")}function c(c,d,e){f.isFunction(c)&&a(c)&&(c=c(e[d])),b(c)?f.defineProperty(e,d,c):e[d]=c}return function(a,b){return"function"==typeof a&&"undefined"==typeof b?(a.hocuspocus=!0,a):(b&&b.constructor!==Object.prototype.constructor&&c(b.constructor,"constructor",a),e(b,c,null,[a]),a)}}(),f.extend=function(a,b){var c=Object.create(a);return f.isFunction(b)&&(b=b(a)),b&&f.override(c,b),c},f.extract=function(){function a(a,b,c,d){f.isObject(a)&&d.push(a[c])}return function(b,c){var d=[];return e(b,a,null,[c,d]),d}}(),f.unique=function(a){var b={};return e(a,function(a){return b[a]?void 0:(b[a]=!0,a)})},f.union=function(){function a(a,c,d,f){e(a,b,null,[d,f])}function b(a,b,c,d){d[a]||(c.push(a),d[a]=!0)}return function(){var b=[],c={},d=Array.apply(null,arguments);return e(d,a,null,[b,c]),b}}(),f.values=function(){function a(a,b,c){c.push(a)}return function(b){if(b&&"object"==typeof b){var c=[];return e(b,a,null,[c]),c}}}(),f.meta=function(a,b,c){return b=f.metaPrefix+b,void 0!==c&&(a[b]=c),a[b]},f.defineProperty=function(a,b,d){if(1===arguments.length)return f.meta(a,"isProperty",!0),a;if(d=d||{},d.writable=d.writable!==!1,d.enumerable=d.enumerable!==!1,d.configurable=d.configurable!==!1,d.get&&(delete d.writable,delete d.value,f.isBoolean(d.get)&&(d.get="get"+c(b)),f.isString(d.get))){var e=d.get;d.get=function(){return this[e]()}}if(d.set&&(delete d.writable,delete d.value,f.isBoolean(d.set)&&(d.set="set"+c(b)),f.isString(d.set))){var g=d.set;d.set=function(a){return this[g](a)}}return Object.defineProperty(a,b,d)},f.id=function(){var a=0;return function(){return"AJS-"+a++}}(),f.uuid=function(){var a=f.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===b?c:3&c|8).toString(16)});return b},f.emptyFn=function(){},f.now=function(){if(d&&window.performance&&window.performance.now)return function(){return window.performance.now()};var a=Date.now();return function(){return Date.now()-a}}()}()},{"pro-singulis":22}],11:[function(a,b,c){b.exports=function(){"use strict";function b(a,b,c,d){this._entityPlaceholder=null,this.entityId=a,this.state=b,this.props=c,this.children=d}var c=a("virtual-dom/h"),d=a("virtual-dom/diff"),e=a("virtual-dom/patch"),f=a("coquo-venenum"),g=a("pro-singulis"),h=a("./Utils");return b.prototype.h=c,b.prototype.placeholder=function(a){return this._entityPlaceholder=this._entityPlaceholder||[],this._entityPlaceholder.push(a),c("div",{id:a,key:a})},b.prototype.renderChild=function(a){return this.placeholder(this.children[a])},b.prototype.renderAllChildren=function(){return g(h.values(this.children),this.placeholder,this)||[]},f({entities:void 0,update:function(){var a=this.entities.getAllComponentsOfType("vdom"),b=g(a,this.updateEntity,this);g(b,this.draw,this)},updateEntity:function(a,c,d){if(this.requiresRender(a,c)){var e=this.findRenderer(a,c),f=this.entities.getComponent(c,"state"),g=this.entities.getComponentData(c,"children"),h=new b(c,f,a.props,g,{});return a=this.entities.setComponent(c,"vdom",{currentTree:e(h),placeholder:h._entityPlaceholder}),this.lastStates[c]=f,a}},requiresRender:function(a,b){if(!a.currentTree)return!0;var c=this.entities.getComponent(b,"state"),d=this.lastStates[b];if(c!==d)return!0;var e=this.entities.getComponent(b,"delegatedEvents"),f=this.lastDelegates[b];return e!==f},findRenderer:function(a,b){if("function"==typeof a.renderer)return a.renderer;throw'Cannot determine renderer for entity "'+b+'"!'},draw:function(a,b){var f=a.root||document.getElementById(b);if(f){var h=d(a.lastTree||c(),a.currentTree);f=e(f,h),a=this.entities.setComponent(b,"vdom",{root:f,lastTree:a.currentTree}),g(a.placeholder,this.drawDependentEntities,this);var i=this.entities.getComponent(b,"delegatedEvents");i&&(g(i.val(),this.bindDelegates,this,[f]),this.lastDelegates[b]=i)}},drawDependentEntities:function(a){var b=this.entities.getComponentData(a,"vdom");if(b){var d=document.getElementById(a);d&&d!==b.root&&(this.entities.setComponent(a,"vdom",{root:d,lastTree:c()}),this.draw(b,a))}},bindDelegates:function(a,b,c){a.selector&&(c=c.querySelector(a.selector)),a.delegate.bind(c)}}).whenBrewed(function(){this.lastStates={},this.lastDelegates={}})}()},{"./Utils":10,"coquo-venenum":14,"pro-singulis":22,"virtual-dom/diff":23,"virtual-dom/h":24,"virtual-dom/patch":25}],12:[function(a,b,c){},{}],13:[function(a,b,c){b.exports=function(a){var b,c=String.prototype.split,d=/()??/.exec("")[1]===a;return b=function(b,e,f){if("[object RegExp]"!==Object.prototype.toString.call(e))return c.call(b,e,f);var g,h,i,j,k=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),m=0,e=new RegExp(e.source,l+"g");for(b+="",d||(g=new RegExp("^"+e.source+"$(?!\\s)",l)),f=f===a?-1>>>0:f>>>0;(h=e.exec(b))&&(i=h.index+h[0].length,!(i>m&&(k.push(b.slice(m,h.index)),!d&&h.length>1&&h[0].replace(g,function(){for(var b=1;b<arguments.length-2;b++)arguments[b]===a&&(h[b]=a)}),h.length>1&&h.index<b.length&&Array.prototype.push.apply(k,h.slice(1)),j=h[0].length,m=i,k.length>=f)));)e.lastIndex===h.index&&e.lastIndex++;return m===b.length?!j&&e.test("")||k.push(""):k.push(b.slice(m)),k.length>f?k.slice(0,f):k}}()},{}],14:[function(a,b,c){b.exports=function(){"use strict";function b(a,b){return e(b,function(b,c){a[c]=b}),a}function c(a){a.call(this)}function d(a,b){return function(){b(this),e(a,function(a){this[a]=null},this);for(var c in this)this[c]&&"object"==typeof this[c]&&("function"==typeof this[c].dispose&&this[c].dispose(),this[c]=null)}}var e=a("pro-singulis"),f=a("deligare"),g=function(a){var b=a.base.constructor,d=f(e,[a.onBrewScripts,c]);this.onBrewScripts=a.onBrewScripts,this.onDisposeScripts=a.onDisposeScripts,this.Ctor=function(a){b.apply(this,a),d(this)},this.Ctor.prototype=a.base};return g.prototype.brew=function(a,g){var h=new this.Ctor(g),i=Object.keys(a||{}),j=f(e,[this.onDisposeScripts,c]);return"function"==typeof a&&(a=a(this.Ctor.prototype)),h.dispose=d(i,j),h=b(h,a)},g.prototype.whenBrewed=function(a){return new g({base:this.Ctor.prototype,onBrewScripts:this.onBrewScripts.concat(a),onDisposeScripts:this.onDisposeScripts})},g.prototype.whenDisposed=function(a){return new g({base:this.Ctor.prototype,onBrewScripts:this.onBrewScripts,onDisposeScripts:this.onDisposeScripts.concat(a)})},g.prototype.extend=function(a){return"function"==typeof a&&(a=a(this.Ctor.prototype)),new g({base:b(Object.create(this.Ctor.prototype),a),onBrewScripts:this.onBrewScripts,onDisposeScripts:this.onDisposeScripts})},function(a){if(null===a||"object"!=typeof a)throw'Base hast be an object, "'+a+'" given';return new g({base:Object.create(a),onBrewScripts:[],onDisposeScripts:[]})}}()},{deligare:15,"pro-singulis":22}],15:[function(a,b,c){b.exports=function(){"use strict";return function(a,b,c){if("function"!=typeof a)throw'Invalid 1st argument: "'+typeof a+'", function expected!';if(!Array.isArray(b))throw'Invalid 2nd argument: "'+typeof b+'", array expected!';for(var d=a.arity>=0?a.arity:a.length,e=[],f=0,g=0,h=d;h>g;g++){var i=b[g];void 0===i&&(e[g]=f++)}var j=function(){for(var f=[],g=0,h=d;h>g;g++){var i=b[g];void 0===i?f[g]=arguments[e[g]]:f[g]=i}return a.apply(c||this,f)};return j.arity=d,j}}()},{}],16:[function(a,b,c){"use strict";function d(a){var b=a[g];return b||(b=a[g]={}),b}var e=a("individual/one-version"),f="7";e("ev-store",f);var g="__EV_STORE_KEY@"+f;b.exports=d},{"individual/one-version":20}],17:[function(a,b,c){(function(c){var d="undefined"!=typeof c?c:"undefined"!=typeof window?window:{},e=a("min-document");if("undefined"!=typeof document)b.exports=document;else{var f=d["__GLOBAL_DOCUMENT_CACHE@4"];f||(f=d["__GLOBAL_DOCUMENT_CACHE@4"]=e),b.exports=f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":12}],18:[function(a,b,c){b.exports=function(){"use strict";function b(a){return a&&a.typeId===k}function c(a){return a&&"object"==typeof a}function d(a){return Array.isArray(a)}function e(a,b){for(var c=Object.keys(b),d=0,e=c.length;e>d;d++){var f=c[d];a[f]=b[f]}return a}function f(a,e){return d(a)?new j(a,e):c(a)?b(a)?a:a.constructor===Object?new i(a,e):new h(a,e):new h(a,e)}function g(a,b,c){this.value=a,this.data=b&&l(b,function(a){return f(a)}),this.computedProps=c}function h(a,b){g.call(this,a,null,b)}function i(a,b){g.call(this,null,a,b)}function j(a,b){g.call(this,null,a,b)}var k="52be5395-a182-46dd-b518-091a1c476a63",l=a("pro-singulis");return g.prototype.typeId=k,g.prototype.val=function(a){if("undefined"!=typeof a){var b=this.sub(a);if(b)return b.val();var c=this.computedProps&&this.computedProps[a];return c?c.call(this,this.val()):null}return null===this.value&&(this.value=l(this.data,function(a){return a.val()})),this.value},g.prototype.set=void 0,g.prototype.sub=function(a){return this.data&&this.data[a]||null},g.prototype.each=function(a,b,c){return this.set(l(this.data,a,b,c))},g.prototype.setSubValue=function(a,b){var c=this.sub(b);if(!c)return f(a);var d=c.set(a);return d!==c?d:void 0},h.prototype=new g,h.prototype.set=function(a){return b(a)?a:a===this.value?this:new h(a,this.computedProps)},i.prototype=new g,i.prototype.set=function(a,f){if("string"==typeof a&&"undefined"!=typeof f){var g=this.setSubValue(f,a);if(g){var k=e({},this.data);return k[a]=g,new i(k,this.computedProps)}return this}if(b(a))return a;if(d(a))return new j(a,this.computedProps);if(c(a)&&a.constructor===Object){var m=l(a,this.setSubValue,this);return m&&Object.keys(m).length>0?new i(e(e({},this.data),m),this.computedProps):this}return"undefined"!=typeof a?new h(a,this.computedProps):this},j.prototype=new g,j.prototype.set=function(a,e){if("undefined"==typeof a)return this;if("undefined"!=typeof e){if(a>=0){var f=this.setSubValue(e,a);if(f){var g=[].concat(this.data);return g[a]=f,new j(g)}}return this}return e=a,b(e)?e:d(e)?this.updateList(e):c(e)&&e.constructor===Object?new i(e,this.computedProps):new h(e,this.computedProps)},j.prototype.updateList=function(a){for(var b=[],c=a.length!==this.data.length,d=0,e=a.length;e>d;d++){var f=a[d],g=this.setSubValue(f,d);g?(c=!0,b.push(g)):b.push(this.data[d])}return c?new j(b,this.computedProps):this},{fromJS:function(a,b){return f(a,b)},find:function(a,b){if(!a)return null;if("string"==typeof b)for(var c=b.split("."),d=0,e=c.length;e>d;d++)a=a.sub(c[d]);return a}}}()},{"pro-singulis":22}],19:[function(a,b,c){(function(a){"use strict";function c(a,b){return a in d?d[a]:(d[a]=b,b)}var d="undefined"!=typeof window?window:"undefined"!=typeof a?a:{};b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(a,b,c){"use strict";function d(a,b,c){var d="__INDIVIDUAL_ONE_VERSION_"+a,f=d+"_ENFORCE_SINGLETON",g=e(f,b);if(g!==b)throw new Error("Can only have one copy of "+a+".\nYou already have version "+g+" installed.\nThis means you cannot install version "+b);return e(d,c)}var e=a("./index.js");b.exports=d},{"./index.js":19}],21:[function(a,b,c){"use strict";b.exports=function(a){return"object"==typeof a&&null!==a}},{}],22:[function(a,b,c){b.exports=function(){"use strict";function a(a,b,c,d){var e,f,g,h,i=[null,null];if(void 0!==d&&(i=i.concat(d)),Array.isArray(a))for(f=[],g=0,h=a.length;h>g;++g)i[0]=a[g],i[1]=g,e=b.apply(c,i),"undefined"!=typeof e&&f.push(e);else if(a&&"object"==typeof a){var j=Object.keys(a);for(f={},g=0,h=j.length;h>g;++g){var k=j[g];i[0]=a[k],i[1]=k,e=b.apply(c,i),"undefined"!=typeof e&&(f[k]=e)}}return f}return a.prepare=function(b,c){return function(d,e){return a(d,b,c||this,e)}},a}()},{}],23:[function(a,b,c){var d=a("./vtree/diff.js");b.exports=d},{"./vtree/diff.js":47}],24:[function(a,b,c){var d=a("./virtual-hyperscript/index.js");b.exports=d},{"./virtual-hyperscript/index.js":34}],25:[function(a,b,c){var d=a("./vdom/patch.js");b.exports=d},{"./vdom/patch.js":30}],26:[function(a,b,c){function d(a,b,c){for(var d in b){var g=b[d];void 0===g?e(a,d,g,c):i(g)?(e(a,d,g,c),g.hook&&g.hook(a,d,c?c[d]:void 0)):h(g)?f(a,b,c,d,g):a[d]=g}}function e(a,b,c,d){if(d){var e=d[b];if(i(e))e.unhook&&e.unhook(a,b,c);else if("attributes"===b)for(var f in e)a.removeAttribute(f);else if("style"===b)for(var g in e)a.style[g]="";else"string"==typeof e?a[b]="":a[b]=null}}function f(a,b,c,d,e){var f=c?c[d]:void 0;if("attributes"!==d){if(f&&h(f)&&g(f)!==g(e))return void(a[d]=e);h(a[d])||(a[d]={});var i="style"===d?"":void 0;for(var j in e){var k=e[j];a[d][j]=void 0===k?i:k}}else for(var l in e){var m=e[l];void 0===m?a.removeAttribute(l):a.setAttribute(l,m)}}function g(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__?a.__proto__:a.constructor?a.constructor.prototype:void 0}var h=a("is-object"),i=a("../vnode/is-vhook.js");b.exports=d},{"../vnode/is-vhook.js":38,"is-object":21}],27:[function(a,b,c){function d(a,b){var c=b?b.document||e:e,k=b?b.warn:null;if(a=j(a).a,i(a))return a.init();if(h(a))return c.createTextNode(a.text);if(!g(a))return k&&k("Item is not a valid virtual dom node",a),null;var l=null===a.namespace?c.createElement(a.tagName):c.createElementNS(a.namespace,a.tagName),m=a.properties;f(l,m);for(var n=a.children,o=0;o<n.length;o++){var p=d(n[o],b);p&&l.appendChild(p)}return l}var e=a("global/document"),f=a("./apply-properties"),g=a("../vnode/is-vnode.js"),h=a("../vnode/is-vtext.js"),i=a("../vnode/is-widget.js"),j=a("../vnode/handle-thunk.js");b.exports=d},{"../vnode/handle-thunk.js":36,"../vnode/is-vnode.js":39,"../vnode/is-vtext.js":40,"../vnode/is-widget.js":41,"./apply-properties":26,"global/document":17}],28:[function(a,b,c){function d(a,b,c,d){return c&&0!==c.length?(c.sort(g),e(a,b,c,d,0)):{}}function e(a,b,c,d,g){if(d=d||{},a){f(c,g,g)&&(d[g]=a);var i=b.children;if(i)for(var j=a.childNodes,k=0;k<b.children.length;k++){g+=1;var l=i[k]||h,m=g+(l.count||0);f(c,g,m)&&e(j[k],l,c,d,g),g=m}}return d}function f(a,b,c){if(0===a.length)return!1;for(var d,e,f=0,g=a.length-1;g>=f;){if(d=(g+f)/2>>0,e=a[d],f===g)return e>=b&&c>=e;if(b>e)f=d+1;else{if(!(e>c))return!0;g=d-1}}return!1}function g(a,b){return a>b?1:-1}var h={};b.exports=d},{}],29:[function(a,b,c){function d(a,b,c){var d=a.type,j=a.vNode,n=a.patch;switch(d){case o.REMOVE:return e(b,j);case o.INSERT:return f(b,n,c);case o.VTEXT:return g(b,j,n,c);case o.WIDGET:return h(b,j,n,c);case o.VNODE:return i(b,j,n,c);case o.ORDER:return k(b,n),b;case o.PROPS:return m(b,n,j.properties),b;case o.THUNK:return l(b,c.patch(b,n,c));default:return b}}function e(a,b){var c=a.parentNode;return c&&c.removeChild(a),j(a,b),null}function f(a,b,c){var d=c.render(b,c);return a&&a.appendChild(d),a}function g(a,b,c,d){var e;if(3===a.nodeType)a.replaceData(0,a.length,c.text),e=a;else{var f=a.parentNode;e=d.render(c,d),f&&e!==a&&f.replaceChild(e,a)}return e}function h(a,b,c,d){var e,f=p(b,c);e=f?c.update(b,a)||a:d.render(c,d);var g=a.parentNode;return g&&e!==a&&g.replaceChild(e,a),f||j(a,b),e}function i(a,b,c,d){var e=a.parentNode,f=d.render(c,d);return e&&f!==a&&e.replaceChild(f,a),f}function j(a,b){"function"==typeof b.destroy&&n(b)&&b.destroy(a)}function k(a,b){for(var c,d,e,f=a.childNodes,g={},h=0;h<b.removes.length;h++)d=b.removes[h],c=f[d.from],d.key&&(g[d.key]=c),a.removeChild(c);for(var i=f.length,j=0;j<b.inserts.length;j++)e=b.inserts[j],c=g[e.key],a.insertBefore(c,e.to>=i++?null:f[e.to])}function l(a,b){return a&&b&&a!==b&&a.parentNode&&a.parentNode.replaceChild(b,a),b}var m=a("./apply-properties"),n=a("../vnode/is-widget.js"),o=a("../vnode/vpatch.js"),p=a("./update-widget");b.exports=d},{"../vnode/is-widget.js":41,"../vnode/vpatch.js":44,"./apply-properties":26,"./update-widget":31}],30:[function(a,b,c){function d(a,b,c){return c=c||{},c.patch=c.patch&&c.patch!==d?c.patch:e,c.render=c.render||j,c.patch(a,b,c)}function e(a,b,c){var d=g(b);if(0===d.length)return a;var e=k(a,b.a,d),i=a.ownerDocument;c.document||i===h||(c.document=i);for(var j=0;j<d.length;j++){var l=d[j];a=f(a,e[l],b[l],c)}return a}function f(a,b,c,d){if(!b)return a;var e;if(i(c))for(var f=0;f<c.length;f++)e=l(c[f],b,d),b===a&&(a=e);else e=l(c,b,d),b===a&&(a=e);return a}function g(a){var b=[];for(var c in a)"a"!==c&&b.push(Number(c));return b}var h=a("global/document"),i=a("x-is-array"),j=a("./create-element"),k=a("./dom-index"),l=a("./patch-op");b.exports=d},{"./create-element":27,"./dom-index":28,"./patch-op":29,"global/document":17,"x-is-array":48}],31:[function(a,b,c){function d(a,b){return e(a)&&e(b)?"name"in a&&"name"in b?a.id===b.id:a.init===b.init:!1}var e=a("../vnode/is-widget.js");b.exports=d},{"../vnode/is-widget.js":41}],32:[function(a,b,c){"use strict";function d(a){return this instanceof d?void(this.value=a):new d(a)}var e=a("ev-store");b.exports=d,d.prototype.hook=function(a,b){var c=e(a),d=b.substr(3);c[d]=this.value},d.prototype.unhook=function(a,b){var c=e(a),d=b.substr(3);c[d]=void 0}},{"ev-store":16}],33:[function(a,b,c){"use strict";function d(a){return this instanceof d?void(this.value=a):new d(a)}b.exports=d,d.prototype.hook=function(a,b){a[b]!==this.value&&(a[b]=this.value)}},{}],34:[function(a,b,c){"use strict";function d(a,b,c){var d,g,i,j,k=[];return!c&&h(b)&&(c=b,g={}),g=g||b||{},d=s(a,g),g.hasOwnProperty("key")&&(i=g.key,g.key=void 0),g.hasOwnProperty("namespace")&&(j=g.namespace,g.namespace=void 0),"INPUT"!==d||j||!g.hasOwnProperty("value")||void 0===g.value||q(g.value)||(g.value=t(g.value)),f(g),void 0!==c&&null!==c&&e(c,k,d,g),new l(d,g,k,i,j)}function e(a,b,c,d){if("string"==typeof a)b.push(new m(a));else if("number"==typeof a)b.push(new m(String(a)));else if(g(a))b.push(a);else{if(!k(a)){if(null===a||void 0===a)return;throw i({foreignObject:a,parentVnode:{tagName:c,properties:d}})}for(var f=0;f<a.length;f++)e(a[f],b,c,d)}}function f(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if(q(c))continue;"ev-"===b.substr(0,3)&&(a[b]=u(c))}}function g(a){return n(a)||o(a)||p(a)||r(a)}function h(a){return"string"==typeof a||k(a)||g(a)}function i(a){var b=new Error;return b.type="virtual-hyperscript.unexpected.virtual-element",b.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+j(a.foreignObject)+".\nThe parent vnode is:\n"+j(a.parentVnode),b.foreignObject=a.foreignObject,b.parentVnode=a.parentVnode,b}function j(a){try{return JSON.stringify(a,null,"    ")}catch(b){return String(a)}}var k=a("x-is-array"),l=a("../vnode/vnode.js"),m=a("../vnode/vtext.js"),n=a("../vnode/is-vnode"),o=a("../vnode/is-vtext"),p=a("../vnode/is-widget"),q=a("../vnode/is-vhook"),r=a("../vnode/is-thunk"),s=a("./parse-tag.js"),t=a("./hooks/soft-set-hook.js"),u=a("./hooks/ev-hook.js");b.exports=d},{"../vnode/is-thunk":37,"../vnode/is-vhook":38,"../vnode/is-vnode":39,"../vnode/is-vtext":40,"../vnode/is-widget":41,"../vnode/vnode.js":43,"../vnode/vtext.js":45,"./hooks/ev-hook.js":32,"./hooks/soft-set-hook.js":33,"./parse-tag.js":35,"x-is-array":48}],35:[function(a,b,c){"use strict";function d(a,b){if(!a)return"DIV";var c=!b.hasOwnProperty("id"),d=e(a,f),h=null;g.test(d[1])&&(h="DIV");var i,j,k,l;for(l=0;l<d.length;l++)j=d[l],j&&(k=j.charAt(0),h?"."===k?(i=i||[],i.push(j.substring(1,j.length))):"#"===k&&c&&(b.id=j.substring(1,j.length)):h=j);return i&&(b.className&&i.push(b.className),b.className=i.join(" ")),b.namespace?h:h.toUpperCase()}var e=a("browser-split"),f=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,g=/^\.|#/;
b.exports=d},{"browser-split":13}],36:[function(a,b,c){function d(a,b){var c=a,d=b;return i(b)&&(d=e(b,a)),i(a)&&(c=e(a,null)),{a:c,b:d}}function e(a,b){var c=a.vnode;if(c||(c=a.vnode=a.render(b)),!(f(c)||g(c)||h(c)))throw new Error("thunk did not return a valid node");return c}var f=a("./is-vnode"),g=a("./is-vtext"),h=a("./is-widget"),i=a("./is-thunk");b.exports=d},{"./is-thunk":37,"./is-vnode":39,"./is-vtext":40,"./is-widget":41}],37:[function(a,b,c){function d(a){return a&&"Thunk"===a.type}b.exports=d},{}],38:[function(a,b,c){function d(a){return a&&("function"==typeof a.hook&&!a.hasOwnProperty("hook")||"function"==typeof a.unhook&&!a.hasOwnProperty("unhook"))}b.exports=d},{}],39:[function(a,b,c){function d(a){return a&&"VirtualNode"===a.type&&a.version===e}var e=a("./version");b.exports=d},{"./version":42}],40:[function(a,b,c){function d(a){return a&&"VirtualText"===a.type&&a.version===e}var e=a("./version");b.exports=d},{"./version":42}],41:[function(a,b,c){function d(a){return a&&"Widget"===a.type}b.exports=d},{}],42:[function(a,b,c){b.exports="2"},{}],43:[function(a,b,c){function d(a,b,c,d,e){this.tagName=a,this.properties=b||j,this.children=c||k,this.key=null!=d?String(d):void 0,this.namespace="string"==typeof e?e:null;var l,m=c&&c.length||0,n=0,o=!1,p=!1,q=!1;for(var r in b)if(b.hasOwnProperty(r)){var s=b[r];i(s)&&s.unhook&&(l||(l={}),l[r]=s)}for(var t=0;m>t;t++){var u=c[t];f(u)?(n+=u.count||0,!o&&u.hasWidgets&&(o=!0),!p&&u.hasThunks&&(p=!0),q||!u.hooks&&!u.descendantHooks||(q=!0)):!o&&g(u)?"function"==typeof u.destroy&&(o=!0):!p&&h(u)&&(p=!0)}this.count=m+n,this.hasWidgets=o,this.hasThunks=p,this.hooks=l,this.descendantHooks=q}var e=a("./version"),f=a("./is-vnode"),g=a("./is-widget"),h=a("./is-thunk"),i=a("./is-vhook");b.exports=d;var j={},k=[];d.prototype.version=e,d.prototype.type="VirtualNode"},{"./is-thunk":37,"./is-vhook":38,"./is-vnode":39,"./is-widget":41,"./version":42}],44:[function(a,b,c){function d(a,b,c){this.type=Number(a),this.vNode=b,this.patch=c}var e=a("./version");d.NONE=0,d.VTEXT=1,d.VNODE=2,d.WIDGET=3,d.PROPS=4,d.ORDER=5,d.INSERT=6,d.REMOVE=7,d.THUNK=8,b.exports=d,d.prototype.version=e,d.prototype.type="VirtualPatch"},{"./version":42}],45:[function(a,b,c){function d(a){this.text=String(a)}var e=a("./version");b.exports=d,d.prototype.version=e,d.prototype.type="VirtualText"},{"./version":42}],46:[function(a,b,c){function d(a,b){var c;for(var h in a){h in b||(c=c||{},c[h]=void 0);var i=a[h],j=b[h];if(i!==j)if(f(i)&&f(j))if(e(j)!==e(i))c=c||{},c[h]=j;else if(g(j))c=c||{},c[h]=j;else{var k=d(i,j);k&&(c=c||{},c[h]=k)}else c=c||{},c[h]=j}for(var l in b)l in a||(c=c||{},c[l]=b[l]);return c}function e(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__?a.__proto__:a.constructor?a.constructor.prototype:void 0}var f=a("is-object"),g=a("../vnode/is-vhook");b.exports=d},{"../vnode/is-vhook":38,"is-object":21}],47:[function(a,b,c){function d(a,b){var c={a:a};return e(a,b,c,0),c}function e(a,b,c,d){if(a!==b){var e=c[d],h=!1;if(v(a)||v(b))i(a,b,c,d);else if(null==b)u(a)||(g(a,c,d),e=c[d]),e=p(e,new r(r.REMOVE,a,b));else if(s(b))if(s(a))if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var j=x(a.properties,b.properties);j&&(e=p(e,new r(r.PROPS,a,j))),e=f(a,b,c,e,d)}else e=p(e,new r(r.VNODE,a,b)),h=!0;else e=p(e,new r(r.VNODE,a,b)),h=!0;else t(b)?t(a)?a.text!==b.text&&(e=p(e,new r(r.VTEXT,a,b))):(e=p(e,new r(r.VTEXT,a,b)),h=!0):u(b)&&(u(a)||(h=!0),e=p(e,new r(r.WIDGET,a,b)));e&&(c[d]=e),h&&g(a,c,d)}}function f(a,b,c,d,f){for(var g=a.children,h=m(g,b.children),i=h.children,j=g.length,k=i.length,l=j>k?j:k,n=0;l>n;n++){var o=g[n],q=i[n];f+=1,o?e(o,q,c,f):q&&(d=p(d,new r(r.INSERT,null,q))),s(o)&&o.count&&(f+=o.count)}return h.moves&&(d=p(d,new r(r.ORDER,a,h.moves))),d}function g(a,b,c){k(a,b,c),h(a,b,c)}function h(a,b,c){if(u(a))"function"==typeof a.destroy&&(b[c]=p(b[c],new r(r.REMOVE,a,null)));else if(s(a)&&(a.hasWidgets||a.hasThunks))for(var d=a.children,e=d.length,f=0;e>f;f++){var g=d[f];c+=1,h(g,b,c),s(g)&&g.count&&(c+=g.count)}else v(a)&&i(a,null,b,c)}function i(a,b,c,e){var f=w(a,b),g=d(f.a,f.b);j(g)&&(c[e]=new r(r.THUNK,null,g))}function j(a){for(var b in a)if("a"!==b)return!0;return!1}function k(a,b,c){if(s(a)){if(a.hooks&&(b[c]=p(b[c],new r(r.PROPS,a,l(a.hooks)))),a.descendantHooks||a.hasThunks)for(var d=a.children,e=d.length,f=0;e>f;f++){var g=d[f];c+=1,k(g,b,c),s(g)&&g.count&&(c+=g.count)}}else v(a)&&i(a,null,b,c)}function l(a){var b={};for(var c in a)b[c]=void 0;return b}function m(a,b){var c=o(b),d=c.keys,e=c.free;if(e.length===b.length)return{children:b,moves:null};var f=o(a),g=f.keys,h=f.free;if(h.length===a.length)return{children:b,moves:null};for(var i=[],j=0,k=e.length,l=0,m=0;m<a.length;m++){var p,q=a[m];q.key?d.hasOwnProperty(q.key)?(p=d[q.key],i.push(b[p])):(p=m-l++,i.push(null)):k>j?(p=e[j++],i.push(b[p])):(p=m-l++,i.push(null))}for(var r=j>=e.length?b.length:e[j],s=0;s<b.length;s++){var t=b[s];t.key?g.hasOwnProperty(t.key)||i.push(t):s>=r&&i.push(t)}for(var u,v=i.slice(),w=0,x=[],y=[],z=0;z<b.length;){var A=b[z];for(u=v[w];null===u&&v.length;)x.push(n(v,w,null)),u=v[w];u&&u.key===A.key?(w++,z++):A.key?(u&&u.key&&d[u.key]!==z+1?(x.push(n(v,w,u.key)),u=v[w],u&&u.key===A.key?w++:y.push({key:A.key,to:z})):y.push({key:A.key,to:z}),z++):u&&u.key&&x.push(n(v,w,u.key))}for(;w<v.length;)u=v[w],x.push(n(v,w,u&&u.key));return x.length!==l||y.length?{children:i,moves:{removes:x,inserts:y}}:{children:i,moves:null}}function n(a,b,c){return a.splice(b,1),{from:b,key:c}}function o(a){for(var b={},c=[],d=a.length,e=0;d>e;e++){var f=a[e];f.key?b[f.key]=e:c.push(e)}return{keys:b,free:c}}function p(a,b){return a?(q(a)?a.push(b):a=[a,b],a):b}var q=a("x-is-array"),r=a("../vnode/vpatch"),s=a("../vnode/is-vnode"),t=a("../vnode/is-vtext"),u=a("../vnode/is-widget"),v=a("../vnode/is-thunk"),w=a("../vnode/handle-thunk"),x=a("./diff-props");b.exports=d},{"../vnode/handle-thunk":36,"../vnode/is-thunk":37,"../vnode/is-vnode":39,"../vnode/is-vtext":40,"../vnode/is-widget":41,"../vnode/vpatch":44,"./diff-props":46,"x-is-array":48}],48:[function(a,b,c){function d(a){return"[object Array]"===f.call(a)}var e=Array.isArray,f=Object.prototype.toString;b.exports=e||d},{}],49:[function(a,b,c){b.exports=function(){"use strict";var b=a("pro-singulis"),c=a("./State"),d=a("alchemy.js/lib/Applicatus"),e=a("./controller/Palette"),f=a("./controller/Sheet"),g=a("./controller/Editor"),h=a("./controller/SpriteList"),i=a("./controller/Dialog"),j=a("./lib/Sheet");return d.extend({onLaunch:function(){var a=this.state.sub("sheet"),c=this.messages;j.createSpriteSheet({spriteWidth:a.val("spriteWidth"),spriteHeight:a.val("spriteHeight"),columns:a.val("columns"),rows:a.val("rows"),callback:function(a){c.trigger("sheet:updated",a)}}),b([e.brew(),f.brew(),g.brew(),h.brew(),i.brew()],this.wireUp,this),this.ui.init(this.state)},update:function(a){var b=a.state.set("fps",a.fps).set("windowWidth",document.body.offsetWidth).set("windowHeight",document.body.offsetHeight);return this.ui.update(b),b}}).whenBrewed(function(){this.state=c.getInitialState()})}()},{"./State":50,"./controller/Dialog":52,"./controller/Editor":53,"./controller/Palette":54,"./controller/Sheet":55,"./controller/SpriteList":56,"./lib/Sheet":58,"alchemy.js/lib/Applicatus":3,"pro-singulis":22}],50:[function(a,b,c){b.exports=function(){"use strict";var b=a("immutabilis"),c=a("alchemy.js/lib/Utils"),d={fps:60,windowWidth:800,windowHeight:600,mode:"main",colors:{selected:"#000000",palette:["#000000","#222034","#45283c","#663931","#8f563b","#df7126","#d9a066","#eec39a","#fbf236","#99e550","#6abe30","#37946e","#4b692f","#524b24","#323c39","#3f3f74","#306082","#5b6ee1","#639bff","#5fcde4","#cbdbfc","#ffffff","#9badb7","#847e87","#696a6a","#595652","#76428a","#ac3232","#d95763","#d77bba","#8f974a","#8a6f30"]},sheet:{selected:0,sprites:[],spriteWidth:32,spriteHeight:32,columns:4,rows:1}};return{getInitialState:function(){var a=c.mix({},d,{windowWidth:document.body.offsetWidth,windowHeight:document.body.offsetHeight});return b.fromJS(a)}}}()},{"alchemy.js/lib/Utils":10,immutabilis:18}],51:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum"),c=a("pro-singulis"),d=a("alchemy.js/lib/Administrator"),e=a("alchemy.js/lib/Apothecarius"),f=a("alchemy.js/lib/Delegatus"),g=a("alchemy.js/lib/Stylus"),h=a("alchemy.js/lib/StateSystem"),i=a("alchemy.js/lib/EventSystem"),j=a("alchemy.js/lib/CssRenderSystem"),k=a("alchemy.js/lib/VDomRenderSystem"),l=a("./ui/SheetRenderSystem");return b({messages:void 0,admin:void 0,delegator:void 0,init:function(a){this.initSystems(),this.initEntities(a)},update:function(a){return this.admin.update(a)},initEntities:function(){},initSystems:function(){c([h,i,j,k,l],function(a){this.admin.addSystem(a.brew({delegator:this.delegator,messages:this.messages,stylus:this.stylus}))},this)}}).whenBrewed(function(){this.delegator=f.brew(),this.stylus=g.brew(),this.admin=d.brew({repo:e.brew()})})}()},{"./ui/SheetRenderSystem":67,"alchemy.js/lib/Administrator":1,"alchemy.js/lib/Apothecarius":2,"alchemy.js/lib/CssRenderSystem":4,"alchemy.js/lib/Delegatus":5,"alchemy.js/lib/EventSystem":6,"alchemy.js/lib/StateSystem":8,"alchemy.js/lib/Stylus":9,"alchemy.js/lib/VDomRenderSystem":11,"coquo-venenum":14,"pro-singulis":22}],52:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum");return b({messages:{"dialog:opened":"onDlgOpened","dialog:closed":"onDlgClosed"},onDlgOpened:function(a,b){return b&&b.dialog?a.set("mode",b.dialog):a},onDlgClosed:function(a){return a.set("mode","main")}})}()},{"coquo-venenum":14}],53:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum");return b({messages:{"sheet:draw":"onDraw"},onDraw:function(a,b){var c=a.sub("sheet").set("sprites",b.sprites);return a.set("sheet",c)}})}()},{"coquo-venenum":14}],54:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum");return b({messages:{"color:selected":"onColorSelected"},onColorSelected:function(a,b){var c=a.sub("colors").set("selected",b.color);return a.set("colors",c)}})}()},{"coquo-venenum":14}],55:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum");return b({messages:{"sheet:updated":"onSheetUpdated"},onSheetUpdated:function(a,b){var c=a.sub("sheet").set(b);return a.set("sheet",c)}})}()},{"coquo-venenum":14}],56:[function(a,b,c){b.exports=function(){"use strict";var b=a("coquo-venenum");return b({messages:{"sheet:spriteSelected":"onSpriteSelected"},onSpriteSelected:function(a,b){var c=a.sub("sheet").set("selected",b.index);return a.set("sheet",c)}})}()},{"coquo-venenum":14}],57:[function(a,b,c){b.exports=function(){"use strict";function a(a,b,c,d){this.r=a,this.g=b,this.b=c,this.a=d>=0?d:1}return a.prototype.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},{fromRGBA:function(b,c,d,e){return new a(b,c,d,e)},hexToRgb:function(){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,c=function(a,b,c,d){return b+b+c+c+d+d};return function(d){d=d.replace(b,c).substr(1,6);var e=parseInt(d,16);return new a(e>>16&255,e>>8&255,255&e)}}(),rgbToHex:function(a,b,c){return"#"+((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)},textColor:function(a){var b=this.hexToRgb(a),c=b.r+b.g+b.b;return c>450?"#212123":"#FAFAFC"}}}()},{}],58:[function(a,b,c){b.exports=function(){"use strict";var a="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";return{createSpriteSheet:function(b){var c=b.src||a,d=this,e=b.columns*b.spriteWidth,f=b.rows*b.spriteWidth,g=document.createElement("img");g.onload=function(){g.width<e&&(g.width=e),g.height<f&&(g.height=f);var a=d.createSpriteSheetFromImage(g,b.spriteWidth,b.spriteHeight);b.callback.call(b.scope,a)};try{g.src=c}catch(h){console.error(h)}},createSpriteSheetFromImage:function(a,b,c){for(var d,e,f=0,g=0,h=Math.max(1,Math.floor(a.width/b)),i=Math.max(1,Math.floor(a.height/c)),j=h*b,k=i*c,l=[];k>=g+c;){for(f=0;j>=f+b;){var m=Math.min(b,a.naturalWidth-f),n=Math.min(c,a.naturalHeight-g);d=document.createElement("canvas"),d.width=b,d.height=c,m>0&&n>0&&(e=d.getContext("2d"),e.imageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.scale(1,1),e.drawImage(a,f,g,m,n,0,0,m,n)),l.push(e.getImageData(0,0,b,c)),f+=b}g+=c}return{sprites:l,spriteWidth:b,spriteHeight:c,columns:h,rows:i}}}}()},{}],59:[function(a,b,c){b.exports=function(){"use strict";return{vdom:{renderer:function(a){var b=a.h;return b("div",{id:a.entityId,className:"ct-center"},[b("div.ct-center-outer",null,[b("div.ct-center-inner",null,a.renderAllChildren())])])}},css:{typeRules:{".ct-center":{display:"table",width:"100%",height:"100%"},".ct-center-outer":{display:"table-cell","vertical-align":"middle","text-align":"center"},".ct-center-inner":{display:"inline-block",position:"relative"}}}}}()},{}],60:[function(a,b,c){b.exports=function(){"use strict";return{vdom:{renderer:function(a){var b=a.h,c=a.state.val("active")||!1;return b("div",{id:a.entityId,className:"dlg "+(c?"opened":"closed")},[b("div.dlg-content",[b("button.dlg-close","X")].concat(a.renderAllChildren()))])}},css:{typeRules:{".dlg":{".dlg-close":{position:"absolute",right:"-35px",top:"-35px"},".dlg-content":{position:"relative",padding:"10px",display:"inline-block",margin:"100px"},transition:"width 0.3s ease",overflow:"hidden",position:"absolute","text-align":"center",top:"0",left:"0",height:"100%","z-index":"10"}},entityRules:function(a){return{width:a.val("active")?"100%":"0"}}},events:{"click .dlg-close":function(a,b,c){c("dialog:closed")}}}}()},{}],61:[function(a,b,c){b.exports=function(){"use strict";function b(a,b,c){return e(a,b,c).set("drawing",!0)}function c(a,b,c){return b.val("drawing")?e(a,b,c):void 0}function d(a,b,c){return b.val("drawing")?e(a,b,c).set("drawing",!1):void 0}function e(a,b,c){var d=b.val("scale")||1,e=Math.floor(i(a)/d),f=Math.floor(j(a)/d),l=k.hexToRgb(b.val("color")),m=g(b.val("imageData")),n=b.val("selected"),o=b.sub("sprites").set(n,m),p=b.set("sprites",o).set("imageData",m);return h(m,e,f,l),c("sheet:draw",{sprites:o.val()}),p}function f(a,b){return document.createElement("canvas").getContext("2d").createImageData(a,b)}function g(a){if(!a)return null;for(var b=f(a.width,a.height),c=a.data,d=b.data,e=0,g=c.length;g>e;e++)d[e]=c[e];return b}function h(a,b,c,d){var e=4*a.width*c,f=e+4*b;a.data[f+0]=d.r,a.data[f+1]=d.g,a.data[f+2]=d.b,a.data[f+3]=255}function i(a){return"undefined"==typeof a.offsetX?a.layerX:a.offsetX}function j(a){return"undefined"==typeof a.offsetY?a.layerY:a.offsetY}var k=a("../lib/Color");return{globalToLocal:function(a,b){var c=a.val("windowHeight"),d=a.val("windowWidth"),e=d>c,f=a.sub("sheet"),g=f.val("spriteWidth"),h=f.val("spriteHeight"),i=f.sub("sprites"),j=f.sub("selected"),k=i.sub(j.val()),l=Math.max(g,e?d-400:d),m=Math.max(h,e?c-50:c-400),n=Math.min(Math.floor(l/g),Math.floor(m/h));return{imageData:k,sprites:i,selected:j,scale:n,width:n*g,height:n*h,color:a.sub("colors").val("selected")}},state:{},vdom:{renderer:function(a){var b=a.state;return a.h("canvas#editor-pane",{width:b.val("width"),height:b.val("height")})}},css:{entityRules:function(a){return{"canvas#editor-pane":{cursor:"crosshair",position:"absolute",top:"50%",left:"50%","margin-top":"-"+a.val("height")/2+"px","margin-left":"-"+a.val("width")/2+"px"}}}},events:{mousedown:b,mousemove:c,mouseup:d,mouseout:d},sheet:{canvas:"#editor-pane"}}}()},{"../lib/Color":57}],62:[function(a,b,c){b.exports=function(){"use strict";return{globalToLocal:{fps:"fps"},vdom:{renderer:function(a){return a.h("div",{id:a.entityId,className:"fps"},"FPS: "+a.state.val("fps"))}},css:{typeRules:{".fps":{position:"absolute",bottom:"5px",left:"5px","z-index":100}}}}}()},{}],63:[function(a,b,c){b.exports=function(){"use strict";function b(a){if(!a||!a.elements||!a.elements.length)return{};for(var b={},c=0,d=a.elements.length;d>c;c++){var e=a.elements[c];e.name&&(b[e.name]=e.value)}return b}var c=a("alchemy.js/lib/Utils"),d=a("../lib/Sheet"),e=a("./Dialog");return c.mix({},e,{globalToLocal:function(a){return{active:"new"===a.val("mode")}},children:[{globalToLocal:function(a){var b=a.sub("sheet");return{spriteWidth:b.val("spriteWidth"),spriteHeight:b.val("spriteHeight"),columns:b.val("columns"),rows:b.val("rows")}},vdom:{renderer:function(a){var b=a.state,c=a.h;return c("div",[c("h1","Create New Sprite Sheet"),c("form.new-dlg",[c("fieldset",[c("legend","Sprites"),c("label",["Sprite Width",c("input",{type:"number",name:"spriteWidth",value:b.val("spriteWidth")})]),c("label",["Sprite Height",c("input",{type:"number",name:"spriteHeight",value:b.val("spriteHeight")})])]),c("fieldset",[c("legend","Sheet"),c("label",["Columns",c("input",{type:"number",name:"columns",value:b.val("columns")})]),c("label",["Rows",c("input",{type:"number",name:"rows",value:b.val("rows")})])]),c("div.button-bar",[c("button.cancel",{type:"button"},"Cancel"),c("button.create",{type:"button"},"Create")])])])}},css:{typeRules:{"form.new-dlg":{width:"200px"}}},events:{"click button.cancel":function(a,b,c){c("dialog:closed")},"click button.create":function(a,c,e){var f=a.target.form,g=b(f);d.createSpriteSheet({spriteWidth:parseInt(g.spriteWidth,10),spriteHeight:parseInt(g.spriteHeight,10),columns:parseInt(g.columns,10),rows:parseInt(g.rows,10),callback:function(a){e("sheet:updated",a),e("dialog:closed")}})}}}]})}()},{"../lib/Sheet":58,"./Dialog":60,"alchemy.js/lib/Utils":10}],64:[function(a,b,c){b.exports=function(){"use strict";var b=a("../lib/Color");return{globalToLocal:{"colors.selected":"selected","colors.palette":"palette",windowWidth:"windowWidth",windowHeight:"windowHeight"},state:{selected:"#000000",palette:[],windowWidth:800,windowHeight:600},vdom:{renderer:function(a){for(var c=a.state,d=c?c.val("selected"):"Unknown Color",e=c?c.val("palette"):[],f=c.val("windowWidth")>c.val("windowHeight"),g=[],h=a.h,i=0,j=e.length;j>i;i++)g.push(a.placeholder("color-"+i));return h("div",{id:a.entityId,className:f?"landscape":"portrait"},[h("div",{id:"selected-color",style:{color:b.textColor(d),backgroundColor:d}},"[SELECTED: "+d+"]"),h("div.list-wrap",null,[h("ul#palette-items",null,g)])])}},css:{entityRules:function(a){var b=a.val("palette").length;return{"&.landscape #selected-color":{height:"40px",padding:"5px","box-sizing":"border-box"},"&.landscape .list-wrap":{height:"calc(100% - 40px)",overflow:"auto"},"&.landscape #palette-items":{width:"100%",height:25*b+"px"},"&.portrait #palette-items":{width:40*b+"px",height:"100%"}}}}}}()},{"../lib/Color":57}],65:[function(a,b,c){b.exports=function(){"use strict";var b=a("alchemy.js/lib/Utils"),c=a("../lib/Color"),d={vdom:{renderer:function(a){var b=a.state;if(!b)return a.h("li.item",null,"Unknown color");var d=b.val("color"),e=b.val("index"),f=b.val("selected"),g=c.hexToRgb(d);return a.h("li",{className:"palette-item"+(d===f?" selected":""),dataset:{color:d,index:e},style:{color:c.textColor(d),backgroundColor:d}},"R:"+g.r+" G:"+g.g+" B:"+g.b)}},events:{click:{message:"color:selected"}},css:{typeRules:{".palette-item":{height:"50px",width:"50%",cursor:"pointer",display:"inline-block",padding:"5px","box-sizing":"border-box","vertical-align":"bottom"}}},fromState:function(a){for(var c=a.sub("colors"),e=c.val("palette"),f=c.val("selected"),g={},h=0,i=e.length;i>h;h++){var j="color-"+h,k={"colors.selected":"selected"};k["colors.palette."+h]="color",g[j]=b.mix({},d,{id:j,globalToLocal:k,state:{index:h,color:e[h],selected:f}})}return g}};return d}()},{"../lib/Color":57,"alchemy.js/lib/Utils":10}],66:[function(a,b,c){b.exports=function(){"use strict";return{globalToLocal:function(a,b){var c=a.sub("sheet"),d=c.val("selected");return{imageData:c.sub("sprites").val(d),width:c.val("spriteWidth"),height:c.val("spriteHeight"),scale:3}},state:{width:32,height:32,scale:3},vdom:{renderer:function(a){var b=a.state;return a.h("canvas",{id:"preview-cvs",width:b.val("scale")*b.val("width"),height:b.val("scale")*b.val("height")})}},sheet:{canvas:"#preview-cvs"}}}()},{}],67:[function(a,b,c){b.exports=function(){"use strict";function b(a,b,c){var d=a.getContext("2d"),f=b&&b.imageData&&b.imageData.data,g=b.offsetX*c,h=b.offsetY*c,i=g,j=h;if(f){d.clearRect(0,0,a.width,a.height),d.mozImageSmoothingEnabled=!1,d.webkitImageSmoothingEnabled=!1,d.msImageSmoothingEnabled=!1,d.imageSmoothingEnabled=!1;for(var k=0,l=f.length;l>k;k+=4){var m=e.fromRGBA(f[k+0],f[k+1],f[k+2],f[k+3]);d.fillStyle=m,d.fillRect(i,j,c,c),i+=c,i>=a.width&&(i=g,j+=c)}}}var c=a("coquo-venenum"),d=a("pro-singulis"),e=a("../lib/Color");return c({update:function(){var a=this.entities.getAllComponentsOfType("sheet");d(a,this.updateEntity,this)},updateEntity:function(a,c){var d=this.entities.getComponent(c,"state");if(d!==a.lastState){var e=document.querySelector(a.canvas),f=d.val("imageData");if(e&&f){var g=d.val("scale")||a.scale||1;b(e,{imageData:f,offsetX:0,offsetY:0},g),a.lastState=d,this.entities.setComponent(c,"sheet",a)}}}})}()},{"../lib/Color":57,"coquo-venenum":14,"pro-singulis":22}],68:[function(a,b,c){b.exports=function(){"use strict";return{globalToLocal:{"sheet.sprites":"sprites"},state:{sprites:[]},vdom:{renderer:function(a){for(var b=a.h,c=a.state.val("sprites"),d=[],e=0,f=c.length;f>e;e++)d.push(a.placeholder("sprite-"+e));return b("div",{className:"sprite-list"},[b("ul",null,d)])}},css:{entityRules:{overflow:"auto"}}}}()},{}],69:[function(a,b,c){b.exports=function(){"use strict";function b(a){var b=a.sub("sheet").val("sprites"),f={};return c(b,function(a,b){var c="sprite-"+b;f[c]=d.melt(e,{id:c,state:{index:b,sprite:a},sheet:{canvas:"#cvs-sprite-"+b}})}),f}var c=a("pro-singulis"),d=a("alchemy.js/lib/Utils"),e={globalToLocal:function(a,b){var c=a.sub("sheet"),d=c.val("selected");return{imageData:c.sub("sprites").val(b.index),isSelected:b.index===d,width:c.sub("spriteWidth"),height:c.sub("spriteHeight")}},vdom:{renderer:function(a){var b=a.state;if(!b)return a.h("li.item",null,"Unknown sprite");var c=b.val("isSelected"),d=b.val("index");return a.h("li",{className:"item"+(c?" selected":""),dataset:{index:d}},[a.h("span.sprite-number",null,"["+d+"]"),a.h("div.cvs-wrap",null,[a.h("canvas#cvs-sprite-"+d,{width:b.val("width"),height:b.val("height")})])])}},events:{click:function(a,b,c){c("sheet:spriteSelected",{index:b.val("index")})}},css:{typeRules:{".sprite-list .item":{position:"relative",cursor:"pointer",canvas:{margin:"0 auto",display:"block"}},".sprite-list .item .sprite-number":{position:"absolute",padding:"5px","background-color":"rgba(0, 0, 0, .5)",top:"5px",left:"5px"}}},fromState:b};return e}()},{"alchemy.js/lib/Utils":10,"pro-singulis":22}],70:[function(a,b,c){b.exports=function(){"use strict";var b=a("alchemy.js/lib/Utils"),c=a("../core/UI"),d=a("../core/ui/PaletteItem"),e=a("../core/ui/SpriteListItem"),f=a("./ui/Viewport");return c.extend({initEntities:function(a){this.admin.initEntities([b.melt(f,{id:"viewport"}),d.fromState,e.fromState],a)}})}()},{"../core/UI":51,"../core/ui/PaletteItem":65,"../core/ui/SpriteListItem":69,"./ui/Viewport":75,"alchemy.js/lib/Utils":10}],71:[function(a,b,c){!function(){"use strict";var b,c,d,e=a("../core/App"),f=a("./UI"),g=a("alchemy.js/lib/Observari");window.onload=function(){b=g.brew(),c=f.brew({messages:b}),d=e.brew({ui:c,messages:b}),d.launch(),window.app=d},window.onunload=function(){[d,c,b].forEach(function(a){a.dispose()}),window.app=null}}()},{"../core/App":49,"./UI":70,"alchemy.js/lib/Observari":7}],72:[function(a,b,c){b.exports=function(){"use strict";function b(a){var b=a.val("sprites");if(!b)return"";var c=a.val("spriteWidth"),d=a.val("spriteHeight"),e=a.val("columns"),f=a.val("rows"),g=document.createElement("canvas"),h=g.getContext("2d");g.width=c*e,g.height=d*f;for(var i=0,j=b.length;j>i;i++)h.putImageData(b[i],c*(i%e),d*Math.floor(i/e));return g.toDataURL()}var c=a("alchemy.js/lib/Utils"),d=a("../../core/ui/Dialog");return c.mix({},d,{globalToLocal:function(a){return{active:"export"===a.val("mode")}},children:[{globalToLocal:function(a){var b=a.sub("sheet"),c="export"===a.val("mode");return{sprites:c?b.val("sprites"):null,spriteWidth:b.val("spriteWidth"),spriteHeight:b.val("spriteHeight"),columns:b.val("columns"),rows:b.val("rows")}},vdom:{renderer:function(a){var c=a.h;return c("div",[c("h1","Export Current Sprite Sheet"),c("form.export-dlg",[c("div.export-wrap",[c("img",{src:b(a.state)}),c("div","Right-click and download")]),c("div.button-bar",[c("button.close",{type:"button"},"Close")])])])}},css:{},events:{"click button.close":function(a,b,c){c("dialog:closed")}}}]})}()},{"../../core/ui/Dialog":60,"alchemy.js/lib/Utils":10}],73:[function(a,b,c){b.exports=function(){"use strict";function b(a){if(!a||!a.elements||!a.elements.length)return{};for(var b={},c=0,d=a.elements.length;d>c;c++){var e=a.elements[c];e.name&&(b[e.name]=e.value)}return b}var c=a("alchemy.js/lib/Utils"),d=a("../../core/lib/Sheet"),e=a("../../core/ui/Dialog");return c.mix({},e,{globalToLocal:function(a){return{active:"import"===a.val("mode")}},children:[{globalToLocal:function(a){var b=a.sub("sheet");return{spriteWidth:b.val("spriteWidth"),spriteHeight:b.val("spriteHeight")}},vdom:{renderer:function(a){var b=a.state,c=a.h,d=b.val("importUrl");return c("div",[c("h1","Import New Sprite Sheet"),c("form.import-dlg",[c("fieldset",[c("legend","File"),c("input.import-file",{accept:"image/*",type:"file",name:"importImg"})]),c("fieldset",[c("legend","Preview"),c("div.preview-wrap",c("img.preview",{src:d||""}))]),c("fieldset",[c("legend","Sprites Dimensions"),c("label",["Sprite Width",c("input",{type:"number",name:"spriteWidth",value:b.val("spriteWidth")})]),c("label",["Sprite Height",c("input",{type:"number",name:"spriteHeight",value:b.val("spriteHeight")})])]),c("div.button-bar",[c("button.cancel",{type:"button"},"Cancel"),c("button.import",{type:"button"},"Import")])])])}},css:{typeRules:{"form.import-dlg":{".preview-wrap":{"text-align":"center"},"img.preview":{"min-width":"32px","max-width":"248px"},width:"270px"}}},events:{"change input.import-file":function(a,b){var c=a.target.files,d=c&&c[0],e=window.URL.createObjectURL(d);return b.set("importUrl",e)},"click button.cancel":function(a,b,c){c("dialog:closed");var d=b.val("importUrl");return d&&window.URL.revokeObjectURL(d),b.set("importUrl",null)},"click button.import":function(a,c,e){var f=a.target.form,g=b(f),h=c.val("importUrl");return d.createSpriteSheet({src:h,spriteWidth:parseInt(g.spriteWidth,10),spriteHeight:parseInt(g.spriteHeight,10),callback:function(a){window.URL.revokeObjectURL(h),e("sheet:updated",a),e("dialog:closed")}}),c.set("importUrl",null)}}}]})}()},{"../../core/lib/Sheet":58,"../../core/ui/Dialog":60,"alchemy.js/lib/Utils":10}],74:[function(a,b,c){b.exports=function(){"use strict";return{vdom:{renderer:function(a){var b=a.h,c=b("div.brand",null,[b("div.title","PIXELBoiler"),b("div.info","- web version -")]);return b("div#mainMenu",{className:"main-menu"},[c,b("button.new","NEW"),b("button.import","IMPORT"),b("button.export","EXPORT")])}},css:{typeRules:{".main-menu .brand":{padding:"5px",".title":{"font-size":"25px"},".info":{"font-size":"15px","text-align":"center"}},".main-menu > div":{display:"inline-block","vertical-align":"top"}}},events:{"click button.new":function(a,b,c){c("dialog:opened",{dialog:"new"})},"click button.import":function(a,b,c){c("dialog:opened",{dialog:"import"})},"click button.export":function(a,b,c){c("dialog:opened",{dialog:"export"})}}}}()},{}],75:[function(a,b,c){b.exports=function(){"use strict";var b=a("alchemy.js/lib/Utils"),c=a("../../core/ui/CenterContainer"),d=a("../../core/ui/Editor"),e=a("../../core/ui/NewDialog"),f=a("./ImportDialog"),g=a("./ExportDialog"),h=a("../../core/ui/Palette"),i=a("../../core/ui/Preview"),j=a("../../core/ui/SpriteList"),k=a("../../core/ui/FPS"),l=a("./MainMenu");return{globalToLocal:{windowWidth:"width",windowHeight:"height"},state:{width:800,height:600},vdom:{root:document.getElementById("viewport"),renderer:function(a){var b=a.h,c=a.state,d=c.val("height"),e=c.val("width"),f=e>d,g=f?"landscape":"portrait";return b("div",{id:a.entityId,className:"viewport "+g},a.renderAllChildren())}},css:{entityRules:function(a){var c=a.val("height"),d=a.val("width"),e=d>c,f={"> div":{position:"absolute"},"#mainMenu":{top:0,left:0,height:"50px",width:d-200+"px"}};return f=e?b.mix(f,{"#editorPane":{top:"50px",left:"200px",width:d-400+"px",height:c-50+"px"},"#spriteList":{top:"50px",left:0,width:"200px",height:c-50+"px"},"#palette":{top:"200px",right:"0",width:"200px",height:c-200+"px"},"#preview":{top:0,right:0,width:"200px",height:"200px"}}):b.mix(f,{"#editorPane":{top:"200px",left:0,width:d+"px",height:c-400+"px"},"#spriteList":{bottom:0,left:0,width:d+"px",height:"200px"},"#palette":{top:"50px",left:0,width:d-200+"px",height:"150px"},"#preview":{top:0,right:0,width:"200px",height:"200px"}})}},children:{fps:b.melt({},k),mainMenu:b.mix({},l,{id:"mainMenu"}),newDlg:b.mix({},e,{id:"newDlg"}),impDlg:b.mix({},f),expDlg:b.mix({},g,{id:"export-dlg"}),editor:b.melt(c,{id:"editorPane",children:[d]}),palette:b.mix({},h,{id:"palette"}),spriteList:b.mix({},j,{id:"spriteList"}),preview:b.mix({},c,{id:"preview",children:[i]})}}}()},{"../../core/ui/CenterContainer":59,"../../core/ui/Editor":61,"../../core/ui/FPS":62,"../../core/ui/NewDialog":63,"../../core/ui/Palette":64,"../../core/ui/Preview":66,"../../core/ui/SpriteList":68,"./ExportDialog":72,"./ImportDialog":73,"./MainMenu":74,"alchemy.js/lib/Utils":10}]},{},[71]);